<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="subscriptions.css">
</head>
  <div class="pricing-table">
    <div class="pricing-card">
      <h3 class="pricing-card-header">Basic</h3>
      <div class="price"><sup>$</sup>15<span>/MO</span></div>
      <h3>Basic</h3>
      <h5>You get the ability to look up:</h5>
      <p>&nbsp;</p>
      <p>✅the different types of businesses in the regions of your country</p>
      <p>&nbsp;</p>
      <p>❌the lack of the selected business segment in percentage of our country</p>
      <p>&nbsp;</p>
      <p>❌use all the functionality of the site for every country</p>
      <a href="#" class="order-btn">Order Now</a>
    </div>

    <div class="pricing-card">
      <h3 class="pricing-card-header">Standard</h3>
      <div class="price"><sup>$</sup>30<span>/MO</span></div>
      <h3>Standard</h3>
      <h5>You get the ability to look up:</h5>
      <p>&nbsp;</p>
      <p>✅the different types of businesses in the regions of your country</p>
      <p>&nbsp;</p>
      <p>✅the lack of the selected business segment in percentage of our country</p>
      <p>&nbsp;</p>
      <p>❌use all the functionality of the site for every country</p>
      <a href="#" class="order-btn">Order Now</a>
    </div>

    <div class="pricing-card">
      <h3 class="pricing-card-header">Premium</h3>
      <div class="price"><sup>$</sup>50<span>/MO</span></div>
      <h3>Premium</h3>
      <h5>You get the ability to look up:</h5>
      <p>&nbsp;</p>
      <p>✅the different types of businesses in the regions of your country</p>
      <p>&nbsp;</p>
      <p>✅the lack of the selected business segment in percentage of our country</p>
      <p>&nbsp;</p>
      <p>✅use all the functionality of the site for every country</p>
      <a href="#" class="order-btn">Order Now</a>
    </div>
  </div>
</body>
</html>
<script>
  const checkCreditCard = cardnumber => {
  
  const ccErrors = [];
  ccErrors [0] = "Unknown card type";
  ccErrors [1] = "No card number provided";
  ccErrors [2] = "Credit card number is in invalid format";
  ccErrors [3] = "Credit card number is invalid";
  ccErrors [4] = "Credit card number has an inappropriate number of digits";
  ccErrors [5] = "Warning! This credit card number is associated with a scam attempt";
  
  const response = (success, message = null, type = null) => ({
    message,
    success,
    type
  });
  const cards = [];
  cards [0] = {name: "Visa", 
               length: "13,16", 
               prefixes: "4",
               checkdigit: true};
  cards [1] = {name: "MasterCard", 
               length: "16", 
               prefixes: "51,52,53,54,55",
               checkdigit: true};
  cards [2] = {name: "DinersClub", 
               length: "14,16", 
               prefixes: "36,38,54,55",
               checkdigit: true};
  cards [3] = {name: "CarteBlanche", 
               length: "14", 
               prefixes: "300,301,302,303,304,305",
               checkdigit: true};
  cards [4] = {name: "AmEx", 
               length: "15", 
               prefixes: "34,37",
               checkdigit: true};
  cards [5] = {name: "Discover", 
               length: "16", 
               prefixes: "6011,622,64,65",
               checkdigit: true};
  cards [6] = {name: "JCB", 
               length: "16", 
               prefixes: "35",
               checkdigit: true};
  cards [7] = {name: "enRoute", 
               length: "15", 
               prefixes: "2014,2149",
               checkdigit: true};
  cards [8] = {name: "Solo", 
               length: "16,18,19", 
               prefixes: "6334,6767",
               checkdigit: true};
  cards [9] = {name: "Switch", 
               length: "16,18,19", 
               prefixes: "4903,4905,4911,4936,564182,633110,6333,6759",
               checkdigit: true};
  cards [10] = {name: "Maestro", 
               length: "12,13,14,15,16,18,19", 
               prefixes: "5018,5020,5038,6304,6759,6761,6762,6763",
               checkdigit: true};
  cards [11] = {name: "VisaElectron", 
               length: "16", 
               prefixes: "4026,417500,4508,4844,4913,4917",
               checkdigit: true};
  cards [12] = {name: "LaserCard", 
               length: "16,17,18,19", 
               prefixes: "6304,6706,6771,6709",
               checkdigit: true};
   
  if (cardnumber.length == 0)  {
     return response(false, ccErrors[1]);
  }
    
  cardnumber = cardnumber.replace (/\s/g, "");
  
  if(!validateCardNumber(cardnumber)){
    return response(false, ccErrors[2]);
  }
 
  if (cardnumber == '5490997771092064') { 
    return response(false, ccErrors[5]);
  }

  let lengthValid = false;
  let prefixValid = false; 
  let cardCompany = "";
  
  for(let i = 0; i < cards.length; i++){
    const prefix = cards[i].prefixes.split(",");
    
    for (let j = 0; j < prefix.length; j++) {
      const exp = new RegExp ("^" + prefix[j]);
      if (exp.test (cardnumber)) {
        prefixValid = true;
      }
    }
    
    if(prefixValid){
      const lengths = cards[i].length.split(",");
      for (let j=0; j < lengths.length; j++) {
        if (cardnumber.length == lengths[j]) {
          lengthValid = true;
        }
      }
    }
    
    if(lengthValid && prefixValid){
      cardCompany = cards[i].name;
      return response(true, null, cardCompany);
    }  
  }
  
  if (!prefixValid) {
     return response(false, ccErrors[3]);
  }
  
  if (!lengthValid) {
     return response(false, ccErrors[4]);
  };   
  
  return response(true, null, cardCompany);
}
</script>